<html>

<head>
    <style>
    .CodeMirror {
        height: auto;
        border: 1px solid #ddd;
    }
    </style>
    <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="lib/codemirror/codemirror.css">
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-6 col-md-2"></div>
            <div class="col-xs-6 col-md-8">
                <div class="row">
                    <div id="navbar" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav" id="main_menu">
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <div id="explanation-code" class="well">
                        <h4>What is this?</h4>
                        <p>Here you can find some of my algorithms used in programming contests, the MOST of them are based on C++ but the important here is to understand them and use them to solve your own problems regardless the technology, I hope it be useful for you, enjoy it.</p>

                        <p>If you find something wrong, any comment or improvement feel free to write me andres.arrieche.7@gmail.com</p>
                        <p><a href="https://cl.linkedin.com/in/andresarrieche">Linkedin</a></p>
                        <p>
                            <a target="blank"href="http://stackoverflow.com/users/1437986/andres">
                                <img src="http://stackoverflow.com/users/flair/1437986.png" width="208" height="58" alt="profile for Andres at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for Andres at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
                            </a>
                        </p>
                    </div>
                    <br>
                    <textarea rows="80" id="source-code" style="display: none">
                    </textarea>
                </div>
            </div>
            <div class="col-xs-6 col-md-2"></div>
        </div>
    </div>
</body>
<script src="lib/jquery.min.js"></script>
<script src="lib/bootstrap/js/bootstrap.min.js"></script>
<script src="lib/codemirror/codemirror.js"></script>
<!--<script src="lib/codemirror/keymap/sublime.js"></script>-->
<!--<link rel="stylesheet" href="lib/codemirror/theme/monokai.css">-->
<script src="lib/codemirror/mode/clike.js"></script>
<script src="lib/codemirror/mode/javascript.js"></script>
<script src="lib/codemirror/mode/python.js"></script>
<script type="text/javascript">

$.getJSON("data/app_menu.json", function(menu) {

    var main_menu = $("#main_menu");
    for (var i = 0; i < menu.length; i++) {
        var li = $("<li class='dropdown'>").appendTo(main_menu);
        $("<a href='#' class='dropdown-toggle' data-toggle='dropdown' role='button' aria-haspopup='true' aria-expanded='false'>" + menu[i]["name"] + " <span class='caret'></span></a>").appendTo(li);

        var new_menu = $("<ul class='dropdown-menu' role='menu' aria-labelledby='dropdownMenu'>");
        for (var j = 0; j < menu[i]["items"].length; j++) {
            var _li = $("<li></li>");
            var item = $("<a class='code-item' tabindex='-1'" + "data-source='" + menu[i]["items"][j]['source'] + "' " + "data-explanation='" + menu[i]["items"][j]['explanation'] + "'" + "data-mode='" + menu[i]["items"][j]['mode'] + "'" + " href='#'>" + menu[i]["items"][j]['name'] + "</a>")

            item.appendTo(_li);
            _li.appendTo(new_menu);
        }
        new_menu.appendTo(li);
    }

    $('.code-item').click(function() {
        set_source_code($(this).data("source"), $(this).data("mode"));
        set_explanation_code($(this).data("explanation"))
    });
});
</script>
<script type="text/javascript">
var source_editor = null;

function set_source_code(file, mode) {
    var rawFile = new XMLHttpRequest();
    rawFile.open("GET", file, false);
    rawFile.onreadystatechange = function() {
        if (rawFile.readyState === 4) {
            if (rawFile.status === 200 || rawFile.status == 0) {
                var allText = rawFile.responseText;

                if (source_editor == null)
                    source_editor = CodeMirror.fromTextArea(document.getElementById("source-code"), {
                        lineNumbers: true,
                        matchBrackets: true,
                        mode: mode,
                        value: allText
                    });

                source_editor.setValue(allText);

                source_editor.setSize("100%", "70%");
            }
        }
    }
    rawFile.send(null);
}

function set_explanation_code(file) {

    var rawFile = new XMLHttpRequest();
    rawFile.open("GET", file, false);
    rawFile.onreadystatechange = function() {
        if (rawFile.readyState === 4) {
            if (rawFile.status === 200 || rawFile.status == 0) {
                var allText = rawFile.responseText;
                $('#explanation-code').html(allText);
            }
        }
    }
    rawFile.send(null);
}
</script>

</html>